{% extends 'base.html' %}
{% load static %}

{% block title %}{{ event.name }} - Event Details | EventSewa{% endblock %}

{% block extra_css %}
<style>
    .event-details-container {
        max-width: 800px;
        margin: 40px auto;
        padding: 20px;
        background: white;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    
    .event-header {
        display: flex;
        gap: 20px;
        margin-bottom: 30px;
    }
    
    .event-info {
        flex: 1;
    }
    
    .event-title {
        font-size: 24px;
        font-weight: bold;
        margin-bottom: 15px;
        color: #333;
    }
    
    .event-detail {
        margin-bottom: 10px;
        color: #666;
    }
    
    .event-detail i {
        width: 20px;
        color: #dc3545;
    }
    
    .ticket-info {
        background: #f8f9fa;
        padding: 20px;
        border-radius: 8px;
        margin: 20px 0;
    }
    
    .progress {
        height: 8px;
        border-radius: 4px;
    }
    
    .progress-bar {
        background-color: #28a745;
    }
    
    .action-buttons {
        display: flex;
        gap: 10px;
        margin-top: 20px;
    }
    
    .btn-outline-primary {
        color: #dc3545;
        border-color: #dc3545;
    }
    
    .btn-outline-primary:hover {
        background-color: #dc3545;
        color: white;
    }
    
    .event-description {
        background: white;
        padding: 2rem;
        border-radius: 10px;
        margin: 2rem 0;
        box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    }

    .description-content h3 {
        color: #2d3748;
        font-size: 1.5rem;
        margin-bottom: 1rem;
        font-weight: 600;
    }

    .description-content h4 {
        color: #4a5568;
        font-size: 1.2rem;
        margin: 1.5rem 0 0.75rem;
        font-weight: 600;
    }

    .description-content p {
        color: #4a5568;
        line-height: 1.6;
        margin-bottom: 1rem;
    }

    .description-content ul {
        list-style-type: none;
        padding-left: 0;
        margin: 1rem 0;
    }

    .description-content ul li {
        color: #4a5568;
        padding: 0.5rem 0;
        padding-left: 1.5rem;
        position: relative;
    }

    .description-content ul li:before {
        content: "â€¢";
        color: #2563eb;
        font-weight: bold;
        position: absolute;
        left: 0;
    }

    .alert {
        border-radius: 8px;
        padding: 1rem;
        margin: 1.5rem 0;
        border-left: 4px solid;
    }

    .alert-info {
        background-color: #ebf8ff;
        border-color: #4299e1;
        color: #2b6cb0;
    }

    .alert-warning {
        background-color: #fffaf0;
        border-color: #ed8936;
        color: #c05621;
    }

    .alert i {
        margin-right: 0.5rem;
    }
</style>
{% endblock %}

{% block content %}
<div class="event-details-container">
    <div class="event-header">
        <div class="event-info">
            <h1 class="event-title">{{ event.name }}</h1>
            <div class="event-detail">
                <i class="fas fa-map-marker-alt"></i> {{ event.location }}
            </div>
            <div class="event-detail">
                <i class="fas fa-calendar"></i> {{ event.formatted_date }}
            </div>
            <div class="event-detail">
                <i class="fas fa-clock"></i> {{ event.formatted_time }}
            </div>
            <div class="event-detail">
                <i class="fas fa-user"></i> Organized by {{ event.organizer_name }}
            </div>
            <div class="event-detail">
                <i class="fas fa-ticket-alt"></i> Price: {{ event.formatted_price }}
            </div>
        </div>
    </div>
    
    <div class="event-description">
        {% if event.id == 1 %}  {# Rock Night at Purple Haze #}
        <div class="description-content">
            <h3>Get Ready to Rock!</h3>
            <p>Join us for an electrifying night of rock music at the legendary Purple Haze Club in Thamel! ðŸŽ¸</p>
            
            <h4>What to Expect:</h4>
            <ul>
                <li>Live performances by top local rock bands</li>
                <li>Classic rock hits and modern rock anthems</li>
                <li>State-of-the-art sound system</li>
                <li>Energetic atmosphere</li>
            </ul>

            <h4>Schedule:</h4>
            <p>Doors open: 7:00 PM<br>
            First band: 8:00 PM<br>
            Main event: 9:30 PM</p>

            <div class="alert alert-info">
                <i class="fas fa-info-circle"></i> Don't forget to bring your ID for entry!
            </div>
        </div>

        {% elif event.id == 2 %}  {# NJK Acoustic at Hyatt Regency #}
        <div class="description-content">
            <h3>An Evening of Acoustic Excellence</h3>
            <p>Experience the magical melodies of NJK in an intimate acoustic setting at the prestigious Hyatt Regency. ðŸŽµ</p>

            <h4>Event Highlights:</h4>
            <ul>
                <li>Unplugged versions of NJK's greatest hits</li>
                <li>Special guest performances</li>
                <li>Premium seating arrangement</li>
                <li>Complimentary welcome drink</li>
            </ul>

            <h4>Venue Information:</h4>
            <p>Location: Grand Ballroom, Hyatt Regency<br>
            Dress Code: Smart Casual<br>
            Parking: Complimentary Valet Service</p>

            <div class="alert alert-info">
                <i class="fas fa-glass-cheers"></i> Limited VIP tables available!
            </div>
        </div>

        {% elif event.id == 3 %}  {# 1974 AD at LOD #}
        <div class="description-content">
            <h3>1974 AD - Live in Concert</h3>
            <p>Don't miss the legendary 1974 AD performing their timeless hits at Lords of Drinks! ðŸŽ¸ðŸŽ¤</p>

            <h4>The Experience:</h4>
            <ul>
                <li>Full band performance</li>
                <li>All-time favorite Nepali rock classics</li>
                <li>Meet & Greet opportunity</li>
                <li>Exclusive merchandise available</li>
            </ul>

            <h4>Event Details:</h4>
            <p>Gates Open: 6:00 PM<br>
            Opening Act: 7:00 PM<br>
            Main Performance: 8:00 PM</p>

            <div class="alert alert-warning">
                <i class="fas fa-star"></i> Early bird tickets selling fast!
            </div>
        </div>

        {% else %}
        <div class="description-content">
            <h3>Event Details</h3>
            <p>Join us for an unforgettable experience! More details about this event will be announced soon.</p>
            
            <div class="alert alert-info">
                <i class="fas fa-info-circle"></i> Stay tuned for updates!
            </div>
        </div>
        {% endif %}
    </div>
    
    <div class="ticket-info">
        <h4>Ticket Availability</h4>
        <div class="event-detail">
            <i class="fas fa-ticket-alt"></i> Remaining Tickets: {{ event.remaining_tickets }} out of {{ event.capacity }}
        </div>
        <div class="progress mt-2">
            <div class="progress-bar" role="progressbar" 
                 style="width: {{ event.ticket_percentage }}%"
                 aria-valuenow="{{ event.ticket_percentage }}" 
                 aria-valuemin="0" 
                 aria-valuemax="100">
            </div>
        </div>
    </div>
    
    <div class="action-buttons">
        <a href="{% url 'users:home' %}" class="btn btn-outline-primary">
            <i class="fas fa-arrow-left"></i> Back to Events
        </a>
        <a href="{% url 'users:buy_ticket' event.id %}" class="btn btn-primary">
            <i class="fas fa-ticket-alt"></i> Buy Tickets
        </a>
    </div>
</div>
{% endblock %} 